
O protocolo HTTP define um conjunto de métodos de solicitação. Um cliente pode usar um desses métodos de solicitação para enviar uma mensagem de solicitação a um servidor HTTP. Os métodos são:

- GET: Um cliente pode usar a solicitação GET para obter um recurso da Web do servidor.
- HEAD: Um cliente pode usar a solicitação HEAD para obter o cabeçalho que uma solicitação GET teria obtido. Como o cabeçalho contém a data da última modificação dos dados, isso pode ser usado para verificar a cópia do cache local.
- POST: Usado para postar dados no servidor web.
- PUT: Peça ao servidor para armazenar os dados.
- DELETE: Peça ao servidor para excluir os dados.
- TRACE: Peça ao servidor para retornar um rastreamento de diagnóstico das ações que ele executa.
- OPTION: Peça ao servidor para retornar a lista de métodos de solicitação que ele suporta.
- CONNECT: Usado para dizer a um proxy para fazer uma conexão com outro host e simplesmente responder ao conteúdo, sem tentar analisá-lo ou armazená-lo em cache. Isso geralmente é usado para fazer conexão SSL por meio do proxy.
- Outros métodos de extensão.
### Método de Solicitação GET

GET é o método solicitação HTTP mais comum. Um cliente pode usar o método de solicitação GET para solicitar ou obter um recurso de um servidor HTTP, uma mensagem de solicitação GET usa a seguinte sintaxe:

```
GET request-URI HTTP-version
(optional request headers)
(blank line)
(optional request body)
```

- A palavra-chave GET diferencia maiúsculas de minúsculas e deve estar em maiúsculas.
- _request-URI_: especifica o caminho do recurso solicitado, que deve começar na raiz `/` do diretório base do documento.
- _Versão HTTP_: HTTP/1.0 ou HTTP/1.1. Esse cliente _negocia_ o protocolo a ser usado para a sessão atual. Por exemplo, o cliente pode solicitar o uso de HTTP/1.1. Se o servidor não suportar HTTP/1.1, ele poderá informar o cliente na resposta para usar HTTP/1.0.
- O cliente usa os cabeçalhos (headers) de solicitação opcionais (como ,`Accept` , `Accept-Language` e etc) para _negociar_ com o servidor e solicitar que o servidor entregue o conteúdo preferido (por exemplo, no idioma preferido pelo cliente).  
- A mensagem de solicitação GET tem um corpo de solicitação opcional que contém a cadeia de caracteres de consulta (a ser explicada posteriormente).

### Testando solicitação HTTP

Há muitas maneiras de testar as solicitações HTTP. Você pode utilizar um programa utilitário como `Insonia` ou `Postman` , ou escrever seu próprio programa de rede para enviar uma mensagem de solicitação bruta a um servidor HTTP para testar as varias solicitações HTTP.

##### Telnet

O "telnet" é um utilitário de rede bastante útil. Ele permite que você estabeleça uma conexão TCP com um servidor e envie solicitações HTTP brutas. Por exemplo, se você tiver um servidor HTTP rodando localmente no endereço IP 127.0.0.1 na porta 8000, você pode usar o telnet da seguinte forma:
```
> telnet
telnet> help
...telnet help menu ...
telnet> open 127.0.0.1 8000
Connecting To 127.0.0.1...
GET /index.html HTTP/1.0
(Hit enter twice to send the terminating blank line ...)
... HTTP response message ...
```

O telnet é um protocolo baseado em caracteres, o que significa que cada caractere digitado no cliente telnet é enviado imediatamente ao servidor. Portanto, é importante digitar os comandos com precisão, pois erros de digitação podem ser enviados ao servidor, e as teclas de deletar e retroceder também são transmitidas. Pode ser necessário ativar a opção de "eco total" para visualizar os caracteres digitados. Consulte o manual do telnet (pesquise a ajuda do Windows) para obter mais detalhes sobre seu uso.

##### Programa de Rede

Você também pode escrever seu próprio programa de rede para emitir uma solicitação HTTP bruta para um servidor HTTP. Seu programa primeiro deve estabelecer uma conexão TCP/IP com o servidor. Depois que que a conexão TCP for estabelecida, você poderá emitir a solicitação bruta.

Um exemplo de programa de rede escrito em Java é mostrado ( suponho que o servidor HTTP esteja sendo executado no localhost (endereço IP 127.0.0.1) na porta 8000 );
```
import java.net.*;
import java.io.*;
   
public class **HttpClient** {
   public static void main(String[] args) throws IOException {
      // The host and port to be connected.
      String host = "127.0.0.1";
      int port = 8000;
      // Create a TCP socket and connect to the host:port.
      Socket socket = new Socket(host, port);
      // Create the input and output streams for the network socket.
      BufferedReader in
         = new BufferedReader(
              new InputStreamReader(socket.getInputStream()));
      PrintWriter out
         = new PrintWriter(socket.getOutputStream(), true);
      // Send request to the HTTP server.
      out.println("**GET /index.html HTTP/1.0**");
      out.println();   // blank line separating header & body
      out.flush();
      // Read the response and display on console.
      String line;
      // readLine() returns null if server close the network socket.
      while((line = in.readLine()) != null) {
         System.out.println(line);
      }
      // Close the I/O streams.
      in.close();
      out.close();
   }
}
```

### Solicitação HTTP/1.0 GET

O seguinte mostra a resposta de uma solicitação HTTP/1.0 GET (problema via telnet ou seu próprio programa de rede - suponho que você tenha iniciado seu servidor HTTP);
```
GET /index.html HTTP/1.0
(enter twice to create a black line)
```

```
HTTP/1.1 200 OK
Date: Sun, 18 Oct 2009 08:56:53 GMT
Server: Apache/2.2.14 (Win32)
Last-Modified: Sat, 20 Nov 2004 07:16:26 GMT
ETag: "10000000565a5-2c-3e94b66c2e680"
Accept-Ranges: bytes
Content-Length: 44
Connection: close
Content-Type: text/html
X-Pad: avoid browser bug
   
<html><body><h1>It works!</h1></body></html>
   
Connection to host lost.
```

Neste exemplo, o cliente emite uma solicitação GET para solicitando um documento chamado `./index.html` e negocia o uso do protocolo HTTP/1.0. Uma linha em branco é necessário após o cabeçalho da solicitação. Esta mensagem de solicitação não contem um corpo (body).

O servidor recebe uma solicitação e mapeia o URI para o documento correspondente em seu diretório. Se o documento estiver disponível, ele responde com o código de status "200 OK". Os cabeçalhos de resposta incluem informações como a data da última modificação, o tipo MIME e o tamanho do documento. O corpo da resposta contém o documento solicitado, que o navegador formata e exibe conforme seu tipo de mídia (por exemplo, texto simples, HTML, JPEG, GIF, etc.).

Anotações:

- O nome do método de solicitação "GET" é sensível a maiúsculas e minúsculas, devendo ser escrito em letras maiúsculas.
- Se o nome do método de solicitação estiver incorreto, o servidor retornará uma mensagem de erro "501 Not Implemented".
- Se o método de solicitação não for permitido, o servidor responderá com "405 Method Not Allowed". Por exemplo, o método DELETE é válido, mas pode não estar habilitado no servidor.
- Caso o URI solicitado não exista, o servidor retornará "404 Not Found". É importante emitir um URI adequado, começando pela raiz do documento `/`. Se isso não for feito, o servidor responderá com "400 Bad Request".
- Se a versão HTTP estiver ausente ou incorreta, o servidor também retornará "400 Bad Request".
- No HTTP/1.0, o servidor fecha a conexão TCP após entregar a resposta. Ao usar telnet para se conectar ao servidor, a mensagem "Connection lost" será exibida logo após o recebimento do corpo da resposta. Para solicitar uma conexão persistente, você pode usar o cabeçalho opcional `Connection: Keep-Alive`, permitindo que outra solicitação seja enviada pela mesma conexão TCP, melhorando assim a eficiência da rede. No entanto, no HTTP/1.1, a conexão `keep-alive` é o padrão.

### Código de status de resposta

A primeira linha da mensagem de resposta, conhecida como linha de status, contém o código de status que o servidor gera para indicar o resultado da solicitação.

Os códigos de status são números de três dígitos e são classificados da seguinte forma:

- **1xx (Informativo)**: Indica que a solicitação foi recebida e o servidor está processando-a.
- **2xx (Sucesso)**: A solicitação foi recebida, compreendida e atendida com sucesso.
- **3xx (Redirecionamento)**: Outras ações são necessárias para concluir a solicitação.
- **4xx (Erro do Cliente)**: A solicitação contém sintaxe incorreta ou não pode ser compreendida.
- **5xx (Erro do Servidor)**: O servidor falhou ao atender a uma solicitação aparentemente válida.

Alguns códigos de status comuns incluem:

- **100 Continue**: O servidor recebeu a solicitação e está processando-a.
- **200 OK**: A solicitação foi atendida com sucesso.
- **301 Moved Permanently**: O recurso solicitado foi movido permanentemente para um novo local, cuja URL é fornecida no cabeçalho `Location`. O cliente deve emitir uma nova solicitação para esse novo local, e os aplicativos devem atualizar todas as referências.
- **302 Found (ou Moved Temporarily)**: Semelhante ao 301, mas o novo local é temporário. O cliente deve fazer uma nova solicitação, mas os aplicativos não precisam atualizar as referências.
- **304 Not Modified**: Em resposta a uma solicitação GET condicional, o servidor informa que o recurso não foi modificado desde a última solicitação (usualmente em resposta ao cabeçalho `If-Modified-Since`).
- **400 Bad Request**: O servidor não pôde entender a solicitação devido a uma sintaxe incorreta.
- **401 Unauthorized**: O recurso solicitado é protegido e requer credenciais do cliente (nome de usuário/senha). O cliente deve reenviar a solicitação com as credenciais apropriadas.
- **403 Forbidden**: O servidor se recusa a fornecer o recurso, independentemente da identidade do cliente.
- **404 Not Found**: O recurso solicitado não pode ser encontrado no servidor.
- **405 Method Not Allowed**: O método de solicitação (por exemplo, POST, PUT, DELETE) é válido, mas não é permitido para o recurso solicitado.
- **408 Request Timeout**: O servidor não recebeu uma solicitação completa no tempo esperado.
- **414 URI Too Long**: O URI da solicitação é muito extenso para ser processado pelo servidor.
- **500 Internal Server Error**: O servidor encontrou uma condição inesperada que o impediu de atender à solicitação, geralmente devido a um erro em seu código.
- **501 Not Implemented**: O método de solicitação usado não é suportado pelo servidor (pode ser resultado de um erro de digitação, como "Get" em vez de "GET").
- **502 Bad Gateway**: Um proxy ou gateway recebeu uma resposta inválida do servidor upstream.
- **503 Service Unavailable**: O servidor não pode processar a solicitação devido a sobrecarga ou manutenção. O cliente pode tentar novamente mais tarde.
- **504 Gateway Timeout**: Um proxy ou gateway não recebeu uma resposta a tempo de um servidor upstream.

